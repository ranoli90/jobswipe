# Production Environment Configuration
# This file contains all environment variables needed for production deployment.
# Replace placeholder values with actual secure secrets before deployment.
# Never commit actual secrets to version control.

# Database Configuration
# Fly.io PostgreSQL connection details
DATABASE_URL=${DATABASE_URL}

# Redis Configuration
# Fly.io Redis URL for caching and Celery result backend
REDIS_URL=${REDIS_URL}

# Celery Configuration
# Using Redis as both broker and result backend for Fly.io deployment
CELERY_BROKER_URL=${CELERY_BROKER_URL}
CELERY_RESULT_BACKEND=${CELERY_RESULT_BACKEND}

# Cloudflare R2 Storage Configuration
CLOUDFLARE_R2_ACCOUNT_ID=${CLOUDFLARE_R2_ACCOUNT_ID}
CLOUDFLARE_R2_ACCESS_KEY_ID=${CLOUDFLARE_R2_ACCESS_KEY_ID}
CLOUDFLARE_R2_SECRET_ACCESS_KEY=${CLOUDFLARE_R2_SECRET_ACCESS_KEY}
CLOUDFLARE_R2_BUCKET=jobswipe-storage

# JWT Authentication Configuration
# Secrets for token generation and validation
SECRET_KEY=${SECRET_KEY}
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Encryption Configuration
# For encrypting sensitive data in database
ENCRYPTION_PASSWORD=${ENCRYPTION_PASSWORD}
ENCRYPTION_SALT=${ENCRYPTION_SALT}

# OAuth2 Configuration
# Redirect URI for OAuth2 authentication flows
OAUTH2_REDIRECT_URI=https://jobswipe-backend.fly.dev/v1/auth/oauth2/callback

# AI Service Configuration (Ollama deployed as separate Fly.io app)
# Ollama Configuration for AI processing
OLLAMA_BASE_URL=https://jobswipe-ollama.fly.dev/v1
OLLAMA_MODEL=llama3.2:3b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# Logging Configuration
# Production logging settings
LOG_LEVEL=INFO
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# API Keys for internal services
ANALYTICS_API_KEY=${ANALYTICS_API_KEY}
INGESTION_API_KEY=${INGESTION_API_KEY}
DEDUPLICATION_API_KEY=${DEDUPLICATION_API_KEY}
CATEGORIZATION_API_KEY=${CATEGORIZATION_API_KEY}
AUTOMATION_API_KEY=${AUTOMATION_API_KEY}

# Environment Settings
# Production environment flags
ENVIRONMENT=production
DEBUG=False

# Grafana Configuration
# Admin password for Grafana dashboard access
GRAFANA_ADMIN_PASSWORD=${GRAFANA_ADMIN_PASSWORD}

# Additional Notes:
# - All passwords and secrets should be at least 32 characters long
# - Use a password manager or secret management service to generate and store these
# - For cloud deployments (Fly.io, Railway), use their secret management features
# - Rotate secrets regularly and never reuse development secrets
# - Ensure DATABASE_URL matches your production database endpoint
# - Update OAUTH2_REDIRECT_URI with your actual production domain
# - For Ollama, ensure the model is pulled in the container or pre-loaded

# Added by secret rotation script
OAUTH_STATE_SECRET=${OAUTH_STATE_SECRET}
JWT_SECRET_KEY=${JWT_SECRET_KEY}
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
